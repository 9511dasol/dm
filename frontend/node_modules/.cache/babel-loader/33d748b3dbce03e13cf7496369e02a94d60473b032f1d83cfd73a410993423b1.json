{"ast":null,"code":"var _jsxFileName = \"C:\\\\Mtest\\\\workdjango\\\\instagram\\\\frontend\\\\src\\\\components\\\\ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport MessageList from './MessageList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WindowContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 10px;\n`;\n_c = WindowContainer;\nconst ChatWindow = ({\n  initialMessages,\n  roomName\n}) => {\n  _s();\n  const [messages, setMessages] = useState(initialMessages);\n  // let chatSocket = null;\n  // useEffect(() =>{\n\n  //   const setupWebSocket = () => {\n  //     chatSocket = new WebSocket(`ws://${window.location.host}/ws/chat/${roomName}/`);\n\n  //     chatSocket.onmessage = function(e) {\n  //         const data = JSON.parse(e.data);\n  //         setMessages(prevMessages  => [...prevMessages , data.message]);\n  //     };\n\n  //     chatSocket.onclose = function(e) {\n  //         console.error('Chat socket closed unexpectedly');\n  //     };\n\n  //     return () => {\n  //         chatSocket.close();\n  //     };\n  // };\n\n  // const cleanupWebSocket = setupWebSocket();\n\n  // return cleanupWebSocket;\n\n  // }, [roomName]);\n\n  return /*#__PURE__*/_jsxDEV(WindowContainer, {\n    children: /*#__PURE__*/_jsxDEV(MessageList, {\n      messages: messages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"OrQCFeJqL9pS8aNDR4fjm9C95KQ=\");\n_c2 = ChatWindow;\nexport default ChatWindow;\nvar _c, _c2;\n$RefreshReg$(_c, \"WindowContainer\");\n$RefreshReg$(_c2, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useEffect","styled","MessageList","jsxDEV","_jsxDEV","WindowContainer","div","_c","ChatWindow","initialMessages","roomName","_s","messages","setMessages","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["C:/Mtest/workdjango/instagram/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport MessageList from './MessageList';\r\n\r\nconst WindowContainer = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 10px;\r\n`;\r\n\r\nconst ChatWindow = ({initialMessages, roomName}) => {\r\n  const [messages, setMessages] = useState(initialMessages);\r\n  // let chatSocket = null;\r\n  // useEffect(() =>{\r\n\r\n  //   const setupWebSocket = () => {\r\n  //     chatSocket = new WebSocket(`ws://${window.location.host}/ws/chat/${roomName}/`);\r\n\r\n  //     chatSocket.onmessage = function(e) {\r\n  //         const data = JSON.parse(e.data);\r\n  //         setMessages(prevMessages  => [...prevMessages , data.message]);\r\n  //     };\r\n\r\n  //     chatSocket.onclose = function(e) {\r\n  //         console.error('Chat socket closed unexpectedly');\r\n  //     };\r\n\r\n  //     return () => {\r\n  //         chatSocket.close();\r\n  //     };\r\n  // };\r\n\r\n  // const cleanupWebSocket = setupWebSocket();\r\n\r\n  // return cleanupWebSocket;\r\n\r\n  // }, [roomName]);\r\n\r\n  return (\r\n    <WindowContainer>\r\n      <MessageList messages={messages}/>\r\n    </WindowContainer>\r\n  ); \r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,eAAe,GAAGJ,MAAM,CAACK,GAAG;AAClC;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAJIF,eAAe;AAMrB,MAAMG,UAAU,GAAGA,CAAC;EAACC,eAAe;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAACU,eAAe,CAAC;EACzD;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;;EAEA;;EAEA;;EAEA,oBACEL,OAAA,CAACC,eAAe;IAAAS,QAAA,eACdV,OAAA,CAACF,WAAW;MAACU,QAAQ,EAAEA;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnB,CAAC;AAEtB,CAAC;AAACP,EAAA,CAjCIH,UAAU;AAAAW,GAAA,GAAVX,UAAU;AAmChB,eAAeA,UAAU;AAAC,IAAAD,EAAA,EAAAY,GAAA;AAAAC,YAAA,CAAAb,EAAA;AAAAa,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}